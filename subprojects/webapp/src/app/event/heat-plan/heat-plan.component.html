
<div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
    <div class="row">
        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div class="page-header">
                <h1>{{plan.event.name}}</h1>
            </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div class="form align-right">
                <div class="btn-group">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Actions<span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#">Sort by current ranking</a></li>
                        <li><a href="#">Use from previous</a></li>
                    </ul>
                </div>
                <div class="form-group">
                    <label for="heat-size" class="col-sm-2 control-label">Heat size</label>
                    <div class="col-sm-10">
                        <input type="number" name="heat-size" class="form-control" min="1" max="99"required="required" [(ngModel)]="plan.heatSize" >
                    </div>
                </div>
            </div>
        </div>    
    </div>
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <button type="button" class="btn btn-primary" (click)="addHeat()">Add heat</button>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <heat-display *ngFor="let heat of plan.heats; let i = index" 
                [heat]="heat" 
                [divisions]="competition.divisions"
                [num]="i + 1" 
                [size]="plan.heatSize"
                [assignmentRequest]="onAssignmentRequested"
                [assignmentFinish]="onAssignmentFinished"
                (onCompetitorAdded)="competitorAdded(heat, $event)"
                ></heat-display>
        </div>
    </div>    
</div>

<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
    <heat-plan-competitor-list 
        [competitors]="remainingCompetitors" 
        [divisions]="competition.divisions"
        (onAssignRequested)="requestHeatAssignment($event)">
    </heat-plan-competitor-list>
</div>


